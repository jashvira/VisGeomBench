# CASE_REGISTRY (reference)
#  id: (BL, BR, TR, TL)  -> behaviour; edges (canonical indices)
#   0: (1,1,1,1) -> known behaviour; edges []
#   1: (1,1,1,2) -> known behaviour; edges [[2,3]]
#   2: (1,1,2,1) -> known behaviour; edges [[1,2]]
#   3: (1,1,2,2) -> known behaviour; edges [[1,3]]
#   4: (1,1,2,3) -> three domains meeting
#   5: (1,2,1,1) -> known behaviour; edges [[0,1]]
#   6: (1,2,1,2) -> ambiguous
#   7: (1,2,1,3) -> known behaviour; edges [[1,2],[0,3]]
#   8: (1,2,2,1) -> known behaviour; edges [[0,2]]
#   9: (1,2,2,2) -> known behaviour; edges [[0,3]]
#  10: (1,2,2,3) -> three domains meeting
#  11: (1,2,3,1) -> three domains meeting
#  12: (1,2,3,2) -> known behaviour; edges [[0,1],[2,3]]
#  13: (1,2,3,3) -> three domains meeting
#  14: (1,2,3,4) -> ambiguous

[dataset]
output = "data/edge_tasks.jsonl"
schema_version = "1.0"

[[task]]
type = "topology_edge_tasks"
metadata = { tags = ["topology","edges"] }
# cases reference integer IDs from CASE_REGISTRY in datagen
[[task.datagen_args_grid]]
subtask = "enumerate_edges"
corner_order = ["bottom-left","bottom-right","top-right","top-left"]
edge_order = ["bottom","right","top","left"]
cases = [0, 3, 8, 9, 14]

# Variation: different edge order and corner order
# use the same IDs; different corner/edge order will vary prompts/indices
[[task]]
type = "topology_edge_tasks"
metadata = { tags = ["topology","edges"] }
[[task.datagen_args_grid]]
subtask = "enumerate_edges"
corner_order = ["top-left","top-right","bottom-right","bottom-left"]
edge_order = ["right","bottom","top","left"]
cases = [1, 9, 7, 8, 12]

[[task]]
type = "topology_edge_tasks"
metadata = { tags = ["topology","classify"] }
[[task.datagen_args_grid]]
subtask = "classify_behaviour"
corner_order = ["top-left","bottom-left","top-right","bottom-right"]
cases = [4, 6, 14, 11, 10]

# Extra classification set covering known behaviour and ambiguous
[[task]]
type = "topology_edge_tasks"
metadata = { tags = ["topology","classify"] }
[[task.datagen_args_grid]]
subtask = "classify_behaviour"
cases = [0, 1, 2, 3, 5, 8, 9, 12]


